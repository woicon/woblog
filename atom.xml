<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[woiconBlog]]></title>
  <link href="/atom.xml/atom.xml" rel="self"/>
  <link href="/atom.xml/"/>
  <updated>2017-05-03T16:16:24+08:00</updated>
  <id>/atom.xml/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im/">MWeb</generator>
  
  <entry>
    <title type="html"><![CDATA[HTML5 è¿›é˜¶ç³»åˆ—ï¼šæ‹–æ”¾ API å®ç°æ‹–æ”¾æ’åº]]></title>
    <link href="/atom.xml/14937786660187.html"/>
    <updated>2017-05-03T10:31:06+08:00</updated>
    <id>/atom.xml/14937786660187.html</id>
    <content type="html"><![CDATA[
<p>HTML5 ä¸­æä¾›äº†ç›´æ¥æ‹–æ”¾çš„ APIï¼Œæå¤§çš„æ–¹ä¾¿æˆ‘ä»¬å®ç°æ‹–æ”¾æ•ˆæœï¼Œä¸éœ€è¦å»å†™ä¸€å¤§å †çš„ jsï¼Œåªéœ€è¦é€šè¿‡ç›‘å¬å…ƒç´ çš„æ‹–æ”¾äº‹ä»¶å°±èƒ½å®ç°å„ç§æ‹–æ”¾åŠŸèƒ½ã€‚</p>

<p>æƒ³è¦æ‹–æ”¾æŸä¸ªå…ƒç´ ï¼Œå¿…é¡»è®¾ç½®è¯¥å…ƒç´ çš„ draggable å±æ€§ä¸º trueï¼Œå½“è¯¥å±æ€§ä¸º false æ—¶ï¼Œå°†ä¸å…è®¸æ‹–æ”¾ã€‚è€Œ img å…ƒç´ å’Œ a å…ƒç´ éƒ½é»˜è®¤è®¾ç½®äº† draggable å±æ€§ä¸º trueï¼Œå¯ç›´æ¥æ‹–æ”¾ï¼Œå¦‚æœä¸æƒ³æ‹–æ”¾è¿™ä¸¤ä¸ªå…ƒç´ ï¼ŒæŠŠå±æ€§è®¾ä¸º false å³å¯ã€‚</p>

<h2 id="toc_0">æ‹–æ”¾äº‹ä»¶</h2>

<p>æ‹–æ”¾äº‹ä»¶ç”±ä¸åŒçš„å…ƒç´ äº§ç”Ÿã€‚ä¸€ä¸ªå…ƒç´ è¢«æ‹–æ”¾ï¼Œä»–å¯èƒ½ä¼šç»è¿‡å¾ˆå¤šä¸ªå…ƒç´ ä¸Šï¼Œæœ€ç»ˆåˆ°è¾¾æƒ³è¦æ”¾ç½®çš„å…ƒç´ å†…ã€‚è¿™é‡Œï¼Œæˆ‘æš‚æ—¶æŠŠè¢«æ‹–æ”¾çš„å…ƒç´ ç§°ä¸ºæºå¯¹è±¡ï¼Œè¢«ç»è¿‡çš„å…ƒç´ ç§°ä¸ºè¿‡ç¨‹å¯¹è±¡ï¼Œåˆ°è¾¾çš„å…ƒç´ æˆ‘ç§°ä¸ºç›®æ ‡å¯¹è±¡ã€‚ä¸åŒçš„å¯¹è±¡äº§ç”Ÿä¸åŒçš„æ‹–æ”¾äº‹ä»¶ã€‚</p>

<h2 id="toc_1">æºå¯¹è±¡ï¼š</h2>

<ul>
<li><p>dragstartï¼šæºå¯¹è±¡å¼€å§‹æ‹–æ”¾ã€‚</p></li>
<li><p>dragï¼šæºå¯¹è±¡æ‹–æ”¾è¿‡ç¨‹ä¸­ã€‚</p></li>
<li><p>dragendï¼šæºå¯¹è±¡æ‹–æ”¾ç»“æŸã€‚</p></li>
</ul>

<h2 id="toc_2">è¿‡ç¨‹å¯¹è±¡ï¼š</h2>

<ul>
<li><p>dragenterï¼šæºå¯¹è±¡å¼€å§‹è¿›å…¥è¿‡ç¨‹å¯¹è±¡èŒƒå›´å†…ã€‚</p></li>
<li><p>dragoverï¼šæºå¯¹è±¡åœ¨è¿‡ç¨‹å¯¹è±¡èŒƒå›´å†…ç§»åŠ¨ã€‚</p></li>
<li><p>dragleaveï¼šæºå¯¹è±¡ç¦»å¼€è¿‡ç¨‹å¯¹è±¡çš„èŒƒå›´ã€‚</p></li>
</ul>

<h2 id="toc_3">ç›®æ ‡å¯¹è±¡ï¼š</h2>

<ul>
<li>dropï¼šæºå¯¹è±¡è¢«æ‹–æ”¾åˆ°ç›®æ ‡å¯¹è±¡å†…ã€‚</li>
</ul>

<pre><code>&lt;div id=&quot;source&quot; draggable=&quot;true&quot;&gt;aå…ƒç´ &lt;/div&gt;
&lt;div id=&quot;process&quot;&gt;bå…ƒç´ &lt;/div&gt;
&lt;div id=&quot;target&quot;&gt;cå…ƒç´ &lt;/div&gt;
&lt;script&gt;
    var source = document.getElementById(&#39;source&#39;),     // aå…ƒç´ 
        process = document.getElementById(&#39;process&#39;),   // bå…ƒç´ 
        target = document.getElementById(&#39;target&#39;);     // cå…ƒç´ 
    
    source.addEventListener(&#39;dragstart&#39;,function(ev){   // dragstartäº‹ä»¶ç”±aå…ƒç´ äº§ç”Ÿ
        console.log(&#39;aå…ƒç´ å¼€å§‹è¢«æ‹–åŠ¨&#39;);
    },false)

    process.addEventListener(&#39;dragenter&#39;,function(ev){  // dragenteräº‹ä»¶ç”±bå…ƒç´ äº§ç”Ÿ
        console.log(&#39;aå…ƒç´ å¼€å§‹è¿›å…¥bå…ƒç´ &#39;);
    },false)
    process.addEventListener(&#39;dragleave&#39;,function(ev){  // dragleaveäº‹ä»¶ç”±bå…ƒç´ äº§ç”Ÿ
        console.log(&#39;aå…ƒç´ ç¦»å¼€bå…ƒç´ &#39;);
    },false)

    target.addEventListener(&#39;drop&#39;,function(ev){        // dropäº‹ä»¶ç”±cå…ƒç´ äº§ç”Ÿ
        console.log(&#39;aå…ƒç´ æ‹–æ”¾åˆ°cå…ƒç´ äº†&#39;);
        ev.preventDefault();
    },false)
    document.ondragover = function(e){e.preventDefault();}
&lt;/script&gt;
</code></pre>

<h2 id="toc_4">dataTransfer å¯¹è±¡</h2>

<p>åœ¨æ‰€æœ‰æ‹–æ”¾äº‹ä»¶ä¸­æä¾›äº†ä¸€ä¸ªæ•°æ®ä¼ é€’å¯¹è±¡ dataTransferï¼Œç”¨äºåœ¨æºå¯¹è±¡å’Œç›®æ ‡å¯¹è±¡é—´ä¼ é€’æ•°æ®ã€‚æ¥ä¸‹æ¥è®¤è¯†ä¸€ä¸‹è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ï¼Œæ¥äº†è§£å®ƒæ˜¯å¦‚ä½•ä¼ é€’æ•°æ®çš„ã€‚</p>

<h2 id="toc_5">setData()</h2>

<p>è¯¥æ–¹æ³•å‘ dataTransfer å¯¹è±¡ä¸­å­˜å…¥æ•°æ®ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºè¦å­˜å…¥æ•°æ®ç§ç±»çš„å­—ç¬¦ä¸²ï¼Œç°åœ¨æ”¯æŒæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>

<p>text/plainï¼šæ–‡æœ¬æ–‡å­—ã€‚</p>

<p>text/htmlï¼šHTMLæ–‡å­—ã€‚</p>

<p>text/xmlï¼šXMLæ–‡å­—ã€‚</p>

<p>text/uri-listï¼šURLåˆ—è¡¨ï¼Œæ¯ä¸ªURLä¸ºä¸€è¡Œã€‚</p>

<p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºè¦å­˜å…¥çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼š</p>

<p><code><br/>
event.dataTransfer.setData(&#39;text/plain&#39;,&#39;Hello World&#39;);<br/>
getData()<br/>
</code></p>

<p>è¯¥æ–¹æ³•ä» dataTransfer å¯¹è±¡ä¸­è¯»å–æ•°æ®ã€‚å‚æ•°ä¸ºåœ¨ setData ä¸­æŒ‡å®šçš„æ•°æ®ç§ç±»ã€‚ä¾‹å¦‚ï¼š</p>

<p><code><br/>
event.dataTransfer.getData(&#39;text/plain&#39;);<br/>
clearData()<br/>
</code></p>

<p>è¯¥æ–¹æ³•æ¸…é™¤ dataTransfer å¯¹è±¡ä¸­å­˜æ”¾çš„æ•°æ®ã€‚å‚æ•°å¯é€‰ï¼Œä¸ºæ•°æ®ç§ç±»ã€‚è‹¥å‚æ•°ä¸ºç©ºï¼Œåˆ™æ¸…ç©ºæ‰€æœ‰ç§ç±»çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼š</p>

<h2 id="toc_6">event.dataTransfer.clearData();</h2>

<h2 id="toc_7">setDragImage()</h2>

<p>è¯¥æ–¹æ³•é€šè¿‡ç”¨imgå…ƒç´ æ¥è®¾ç½®æ‹–æ”¾å›¾æ ‡ã€‚æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºå›¾æ ‡å…ƒç´ ï¼Œç¬¬äºŒä¸ªä¸ºå›¾æ ‡å…ƒç´ ç¦»é¼ æ ‡æŒ‡é’ˆçš„Xè½´ä½ç§»é‡ï¼Œç¬¬ä¸‰ä¸ªä¸ºå›¾æ ‡å…ƒç´ ç¦»é¼ æ ‡æŒ‡é’ˆçš„Yè½´ä½ç§»é‡ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code>var source = document.getElementById(&#39;source&#39;),
    icon = document.createElement(&#39;img&#39;);

icon.src = &#39;img.png&#39;;

source.addEventListener(&#39;dragstart&#39;,function(ev){
    ev.dataTransfer.setDragImage(icon,-10,-10)
},false)
</code></pre>

<h2 id="toc_8">effectAllowed å’Œ dropEffect å±æ€§</h2>

<p>è¿™ä¸¤ä¸ªå±æ€§ç»“åˆèµ·æ¥è®¾ç½®æ‹–æ”¾çš„è§†è§‰æ•ˆæœã€‚</p>

<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šdataTransfer å¯¹è±¡ä¸æ”¯æŒIEã€‚å¯¹ï¼Œä¸æ”¯æŒIEã€‚</p>

<p>å®ç°æ‹–æ”¾æ’åº</p>

<p>ä¸Šé¢å·²ç»ç†Ÿæ‚‰äº†æ‹–æ”¾ API çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬æ¥å®ç°ä¸ªç®€å•çš„æ‹–æ”¾æ’åºï¼Œè¿™ä¹Ÿæ˜¯åœ¨é¡¹ç›®ä¸­æ¯”è¾ƒå¸¸è§çš„ã€‚å…ˆæ¥ç†ä¸€ä¸‹æ€è·¯ï¼š</p>

<p>åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œæ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥è¢«æ‹–æ”¾ï¼Œé‚£é¦–å…ˆè¦ç»™æ¯ä¸ªå…ƒç´ è®¾ç½® draggable å±æ€§ä¸º trueã€‚</p>

<p>ç›‘å¬æ¯ä¸ªå…ƒç´ çš„ dragstart äº‹ä»¶ï¼Œå¯¹æºå¯¹è±¡åšæ ·å¼å¤„ç†æ¥åŒºåˆ†ã€‚</p>

<p>ç›‘å¬æ¯ä¸ªå…ƒç´ çš„ dragenter äº‹ä»¶ï¼Œå½“æºå¯¹è±¡è¿›å…¥åˆ°å½“å‰å…ƒç´ é‡Œï¼Œå°±æŠŠæºå¯¹è±¡æ·»åŠ åˆ°è¯¥å…ƒç´ ä¹‹å‰ã€‚è¿™æ ·å­åé¢çš„å…ƒç´ å°±ä¼šè¢«æºå¯¹è±¡æŒ¤ä¸‹å»äº†ï¼Œå®ç°äº†æ’åºçš„æ•ˆæœã€‚</p>

<p>ä½†æ˜¯ä¼šå‘ç°ï¼Œæºå¯¹è±¡æ— æ³•æ’åˆ°æœ€åä¸€ä¸ªå»ï¼Œåªèƒ½åœ¨å€’æ•°ç¬¬äºŒã€‚è¿™æ—¶å°±è¦ç›‘å¬ dragleave äº‹ä»¶ï¼Œå½“è¿‡ç¨‹å¯¹è±¡æ˜¯æœ€åä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæºå¯¹è±¡ç¦»å¼€äº†è¿‡ç¨‹å¯¹è±¡ï¼Œè¿™æ—¶å°±æŠŠæºå¯¹è±¡æ·»åŠ åˆ°æœ€åå»ã€‚</p>

<p>ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code>var source = document.querySelectorAll(&#39;.list&#39;),
    dragElement = null;

for(var i = 0; i &lt; source.length; i++){
    source[i].addEventListener(&#39;dragstart&#39;,function(ev){
        dragElement = this;
    },false);

    source[i].addEventListener(&#39;dragenter&#39;, function(ev){
        if(dragElement != this){
            this.parentNode.insertBefore(dragElement,this);
        }
    }, false)

    source[i].addEventListener(&#39;dragleave&#39;, function(ev){
        if(dragElement != this){
            if(this == this.parentNode.lastElementChild || this == this.parentNode.lastChild){
                this.parentNode.appendChild(dragElement);
            }
        }
    }, false)
};

document.ondragover = function(e){e.preventDefault();}
document.ondrop = function(e){e.preventDefault();}
</code></pre>

<h2 id="toc_9">å…¼å®¹</h2>

<p>ä¸»è¦æ˜¯åœ¨IEä¸­çš„å…¼å®¹ä¸å¤ªå¥½ï¼Œä¸è¿‡è‡³å°‘åœ¨IE10ä¸­èƒ½å…¼å®¹ä¸Šé¢çš„æ‹–åŠ¨æ’åºã€‚</p>

<p>è€Œä¸”åœ¨æˆ‘ç®€å•çš„è¯•éªŒä¸­å‘ç°ï¼Œå°±æ˜¯åœ¨ IE ä¸­å…ƒç´ ä¸è®¾ç½® height çš„æ—¶å€™ï¼Œä¸ä¼šè§¦å‘ dragleave äº‹ä»¶ã€‚</p>

<p>æ›´é‡è¦çš„ä¸€ç‚¹æ˜¯åœ¨ ios å’Œå®‰å“ä¸Šï¼Œå®Œå…¨ä¸å…¼å®¹ã€‚ä¸è¿‡è¿˜å¥½ï¼Œæœ‰ä¸€ä¸ªæ’ä»¶èƒ½è®©å®ƒåœ¨ç§»åŠ¨ç«¯å®Œç¾å…¼å®¹ã€‚<br/>
æ’ä»¶åœ°å€ï¼šios-html5-drag-drop-shim</p>

<p>åªéœ€è¦åœ¨åŸæœ‰çš„ä»£ç ä¸­å¼•å…¥è¯¥æ’ä»¶ï¼Œå³å¯åœ¨ç§»åŠ¨ç«¯ä¸Šå®ç°æ‹–åŠ¨äº†ã€‚</p>

<pre><code>&lt;script&gt;
var iosDragDropShim = { enableEnterLeave: true }
&lt;/script&gt;
&lt;script src=&quot;vendor/ios-drag-drop.js&quot;&gt;&lt;/script&gt;
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[javascript animatioåŠ¨ç”»äº‹ä»¶]]></title>
    <link href="/atom.xml/14930210074983.html"/>
    <updated>2017-04-24T16:03:27+08:00</updated>
    <id>/atom.xml/14930210074983.html</id>
    <content type="html"><![CDATA[
<p>åˆ¤æ–­css animatioåŠ¨ç”»æ˜¯å¦å®Œæˆï¼Œ animationendæ˜¯åˆ¤æ–­css3åœ¨åŠ¨ç”»å®Œæˆåæ‰§è¡Œäº‹ä»¶ã€‚</p>

<pre><code>object.addEventListener(&quot;webkitAnimationEnd&quot;, myScript);  // Chrome, Safari å’Œ Opera
object.addEventListener(&quot;animationend&quot;, myScript);        // æ ‡å‡†è¯­æ³•
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GARMIN 225è“ç‰™è¿æ¥é—®é¢˜]]></title>
    <link href="/atom.xml/14927366229693.html"/>
    <updated>2017-04-21T09:03:42+08:00</updated>
    <id>/atom.xml/14927366229693.html</id>
    <content type="html"><![CDATA[
<p>æ‰‹è¡¨æœ€è¿‘æ€»æ˜¯è¿æ¥ä¸ä¸Šæ‰‹æœºã€‚<br/>
1. æ‰‹è¡¨å…³æœºï¼Œå…³é—­æ‰‹æœºè“ç‰™ï¼›<br/>
2. ç­‰å¾…äº”ç§’åï¼ŒåŒæ—¶æŒ‰ä½Bé”®+Cé”®ï¼›<br/>
3. æ­¥éª¤2æŒ‰ä½ä¸æ”¾ï¼Œå†æŒ‰ä½Aé”®ä¸æ”¾ï¼Œæ­¤æ—¶åŒæ—¶æŒ‰ä½ABCä¸‰ä¸ªé”®ï¼›<br/>
4. ç­‰å¾…å‡ ç§’, å¬åˆ°å“”ä¸€å£°ï¼Œæ”¾å¼€Aé”®ï¼Œæ­¤æ—¶ä»åŒæ—¶æŒ‰ä½BCä¸¤ä¸ªé”®<br/>
5. ç­‰å¾…å‡ ç§’ï¼ˆå¯èƒ½ä¼šå¾ˆé•¿æ—¶é—´ï¼Œè€å¿ƒç­‰ï¼‰ï¼Œå¬åˆ°å“”ä¸€å£°ï¼Œæ”¾å¼€Cé”®;<br/>
6. ç­‰å¾…å‡ ç§’, å¬åˆ°å“”ä¸€å£°ï¼Œ æ”¾å¼€Bé”®ï¼›<br/>
7. æˆåŠŸåä¼šå‡ºç°ç¬¬ä¸€æ¬¡å¼€æœºçš„æƒ…å†µï¼ˆæ˜¾ç¤ºç®€ä½“ä¸­æ–‡å­—æ ·ï¼‰ï¼Œ å¯ä»¥æ¥ç€æŠŠ225çš„å„é¡¹è®¾ç½®é€ä¸€å®Œæˆï¼›<br/>
8. æŠŠæ‰‹æœºConnect APPä¸­æ³¨å†Œçš„225æ‰‹è¡¨å…ˆåˆ é™¤ï¼›<br/>
9. æ‰‹æœºé‡æ–°å¼€æœºï¼Œå¼€å¯è“ç‰™ï¼›<br/>
10. å¼€å¯æ‰‹è¡¨225çš„è“ç‰™é…å¯¹ï¼Œè®¾ç½®&gt;è“ç‰™&gt;ç§»åŠ¨è®¾å¤‡é…å¯¹<br/>
11. å¼€å¯æ‰‹æœºGarmin Connect appï¼Œè®¾å¤‡&gt; &ldquo;+&rdquo;&gt; å¥èº« &gt; forerunner 225 &gt;æœå¯»ã€‚</p>

<p>ä»¥ä¸Šåšå®Œå, å°±ä¼šçœ‹åˆ°æ‰‹æœºä¸Šå‡ºç°è¯¢é—®é…å¯¹ç æ˜¯å¦æ­£ç¡®çš„å¯¹è¯æ¡†ï¼Œç¡®å®šä¹‹åå°±ä¼šè¿æ¥ã€æ³¨å†Œä¸”å®ŒæˆåŒæ­¥äº†ã€‚<br/>
ä»¥ååªè¦å¼€å¯Garmin connect, æŒ‰æ‰‹è¡¨çš„è·‘æ­¥é”®ä¸¤æ¬¡ï¼Œç­‰å¾…å‡ ç§’ï¼Œå°±ä¼šæ­£å¸¸åŒæ­¥ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[es6å…¥é—¨]]></title>
    <link href="/atom.xml/14926503124149.html"/>
    <updated>2017-04-20T09:05:12+08:00</updated>
    <id>/atom.xml/14926503124149.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">letå’Œconstå‘½ä»¤</h2>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è®¾è®¡æ¨¡å¼å¼€å‘å®è·µ]]></title>
    <link href="/atom.xml/14901536948215.html"/>
    <updated>2017-03-22T11:34:54+08:00</updated>
    <id>/atom.xml/14901536948215.html</id>
    <content type="html"><![CDATA[

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WOUIçš„CSSçš„ç¼–å†™è§„èŒƒ]]></title>
    <link href="/atom.xml/14889572496788.html"/>
    <updated>2017-03-08T15:14:09+08:00</updated>
    <id>/atom.xml/14889572496788.html</id>
    <content type="html"><![CDATA[
<h3 id="toc_0">å†™åœ¨å‰é¢</h3>

<p>æ‰€æœ‰çš„CSSè¯­æ³•æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ASCIIèŒƒå›´ï¼ˆå³ï¼Œi.e., [a-z] and [A-Z]æ˜¯ç­‰ä»·çš„ï¼‰ä¸­ï¼Œé™¤äº†éƒ¨åˆ†ä¸å±äºCSSçš„æ§åˆ¶ä¹‹ä¸‹ã€‚ä¾‹å¦‚ï¼Œåœ¨HTMLä¸­å€¼çš„åŒºåˆ†å¤§å°å†™å±æ€§â€œIDâ€çš„å­—ä½“åç§°å’Œâ€œclassâ€ï¼Œå’ŒURIå°±åœ¨äºæœ¬è§„èŒƒçš„èŒƒå›´ä¹‹å†…ã€‚è¯·ç‰¹åˆ«æ³¨æ„ï¼Œå…ƒç´ åç§°æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„HTMLï¼Œä½†åŒºåˆ†å¤§å°å†™çš„XMLã€‚</p>

<h3 id="toc_1">ä½¿ç”¨lessé¢„ç¼–è¯‘æé«˜æ•ˆç‡</h3>

<p>å±‚çº§æ·±åº¦ä¸è¶…è¿‡ä¸‰çº§ã€‚</p>

<h2 id="toc_2">ä¹¦å†™è§„åˆ™</h2>

<h3 id="toc_3">classå‘½å</h3>

<p>class åç§°ä¸­åªèƒ½å‡ºç°å°å†™å­—ç¬¦å’Œè¿å­—ç¬¦ï¼ˆä¸æ˜¯ä¸‹åˆ’çº¿ï¼Œä¹Ÿä¸æ˜¯é©¼å³°å‘½åæ³•ï¼‰ã€‚è¿å­—ç¬¦åº”å½“ç”¨äºç›¸å…³ class çš„å‘½åï¼ˆç±»ä¼¼äºå‘½åç©ºé—´ï¼‰ï¼ˆä¾‹å¦‚ï¼Œ.btn å’Œ .btn-dangerï¼‰ã€‚<br/>
é¿å…è¿‡åº¦ä»»æ„çš„ç®€å†™ã€‚.btn ä»£è¡¨ buttonï¼Œä½†æ˜¯ .s ä¸èƒ½è¡¨è¾¾ä»»ä½•æ„æ€ã€‚<br/>
class åç§°åº”å½“å°½å¯èƒ½çŸ­ï¼Œå¹¶ä¸”æ„ä¹‰æ˜ç¡®ã€‚<br/>
ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ã€‚ä½¿ç”¨æœ‰ç»„ç»‡çš„æˆ–ç›®çš„æ˜ç¡®çš„åç§°ï¼Œä¸è¦ä½¿ç”¨è¡¨ç°å½¢å¼ï¼ˆpresentationalï¼‰çš„åç§°ã€‚<br/>
åŸºäºæœ€è¿‘çš„çˆ¶ class æˆ–åŸºæœ¬ï¼ˆbaseï¼‰ class ä½œä¸ºæ–° class çš„å‰ç¼€ã€‚<br/>
ä½¿ç”¨ .js-* class æ¥æ ‡è¯†è¡Œä¸ºï¼ˆä¸æ ·å¼ç›¸å¯¹ï¼‰ï¼Œå¹¶ä¸”ä¸è¦å°†è¿™äº› class åŒ…å«åˆ° CSS æ–‡ä»¶ä¸­ã€‚</p>

<h3 id="toc_4">é¿å…è¿‡æ·±çš„å±‚çº§</h3>

<h3 id="toc_5">CSSå±æ€§ä¹¦å†™é¡ºåº</h3>

<p>1.ä½ç½®å±æ€§(position, top, right, z-index, display, floatç­‰)<br/>
2.å¤§å°(width, height, padding, margin)<br/>
3.æ–‡å­—ç³»åˆ—(font, line-height, letter-spacing, color- text-alignç­‰)<br/>
4.èƒŒæ™¯(background, borderç­‰)<br/>
5.å…¶ä»–(animation, transitionç­‰)</p>

<h3 id="toc_6">ä½¿ç”¨ç¼©å†™</h3>

<p>CSSæœ‰äº›å±æ€§æ˜¯å¯ä»¥ç¼©å†™çš„ï¼Œæ¯”å¦‚padding,margin,fontç­‰ç­‰ï¼Œè¿™æ ·ç²¾ç®€ä»£ç åŒæ—¶åˆèƒ½æé«˜ç”¨æˆ·çš„é˜…è¯»ä½“éªŒã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[é˜¿ç±³å·´ç»è¥]]></title>
    <link href="/atom.xml/14882775961284.html"/>
    <updated>2017-02-28T18:26:36+08:00</updated>
    <id>/atom.xml/14882775961284.html</id>
    <content type="html"><![CDATA[

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[module.exportsæµ…æ]]></title>
    <link href="/atom.xml/14882686442912.html"/>
    <updated>2017-02-28T15:57:24+08:00</updated>
    <id>/atom.xml/14882686442912.html</id>
    <content type="html"><![CDATA[
<p>åœ¨å¼€å‘ä¸€ä¸ªå¤æ‚çš„åº”ç”¨ç¨‹åºçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå„ä¸ªåŠŸèƒ½æ‹†åˆ†ã€å°è£…åˆ°ä¸åŒçš„æ–‡ä»¶ï¼Œåœ¨éœ€è¦çš„æ—¶å€™å¼•ç”¨è¯¥æ–‡ä»¶ã€‚æ²¡äººä¼šå†™ä¸€ä¸ªå‡ ä¸‡è¡Œä»£ç çš„æ–‡ä»¶ï¼Œè¿™æ ·åœ¨å¯è¯»æ€§ã€å¤ç”¨æ€§å’Œç»´æŠ¤æ€§ä¸Šéƒ½å¾ˆå·®ï¼Œå‡ ä¹æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è‡ªå·±çš„æ¨¡å—ç»„ç»‡æ–¹å¼ï¼Œæ¯”å¦‚Javaä¸­çš„åŒ…ã€C#ä¸­çš„ç¨‹åºé›†ç­‰ï¼Œnode.jsä½¿ç”¨æ¨¡å—å’ŒåŒ…æ¥ç»„ç»‡ï¼Œå…¶æœºåˆ¶å®ç°å‚ç…§äº†CommonJSæ ‡å‡†ï¼Œè™½æœªå®Œå…¨éµå®ˆï¼Œä½†å·®è·ä¸å¤§ï¼Œä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ã€‚</p>

<h3 id="toc_0">ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿ</h3>

<p>åœ¨node.jsä¸­æ¨¡å—ä¸æ–‡ä»¶æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªnode.jsæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ–‡ä»¶å†…å®¹å¯èƒ½æ˜¯æˆ‘ä»¬å°è£…å¥½çš„ä¸€äº›JavaScriptæ–¹æ³•ã€JSONæ•°æ®ã€ç¼–è¯‘è¿‡çš„C/C++æ‹“å±•ç­‰ï¼Œåœ¨å…³äºnode.jsçš„è¯¯ä¼šæåˆ°è¿‡node.jsçš„æ¶æ„ã€‚<br/>
å…¶ä¸­httpã€fsã€netç­‰éƒ½æ˜¯node.jsæä¾›çš„æ ¸å¿ƒæ¨¡å—ï¼Œä½¿ç”¨C/C++å®ç°ï¼Œå¤–éƒ¨ç”¨JavaScriptå°è£…ã€‚</p>

<h3 id="toc_1">åˆ›å»ºã€åŠ è½½æ¨¡å—</h3>

<p>æ¨¡å—åœ¨node.jsä¸­çš„æ¦‚å¿µå¾ˆç®€å•ï¼Œçœ‹çœ‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªæˆ‘ä»¬è‡ªå·±çš„æ¨¡å—ä¾›å¼€å‘å¤ç”¨ã€‚</p>

<p>åœ¨node.jsä¸­åˆ›å»ºæ¨¡å—éå¸¸ç®€å•ï¼Œä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªtest.jsæ–‡ä»¶å°±åˆ›å»ºäº†ä¸€ä¸ªæ¨¡å—</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[webpackå…¥å‘è®°å½•]]></title>
    <link href="/atom.xml/14882669814482.html"/>
    <updated>2017-02-28T15:29:41+08:00</updated>
    <id>/atom.xml/14882669814482.html</id>
    <content type="html"><![CDATA[
<p>Webpack ä¼šåˆ†æå…¥å£æ–‡ä»¶ï¼Œè§£æåŒ…å«ä¾èµ–å…³ç³»çš„å„ä¸ªæ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶ï¼ˆæ¨¡å—ï¼‰éƒ½æ‰“åŒ…åˆ° bundle.js ã€‚Webpack ä¼šç»™æ¯ä¸ªæ¨¡å—åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ id å¹¶é€šè¿‡è¿™ä¸ª id ç´¢å¼•å’Œè®¿é—®æ¨¡å—ã€‚åœ¨é¡µé¢å¯åŠ¨æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œ entry.js ä¸­çš„ä»£ç ï¼Œå…¶å®ƒæ¨¡å—ä¼šåœ¨è¿è¡Œ require çš„æ—¶å€™å†æ‰§è¡Œã€‚</p>

<h3 id="toc_0">Loader</h3>

<p>Webpack æœ¬èº«åªèƒ½å¤„ç† JavaScript æ¨¡å—ï¼Œå¦‚æœè¦å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå°±éœ€è¦ä½¿ç”¨ loader è¿›è¡Œè½¬æ¢ã€‚</p>

<p>Loader å¯ä»¥ç†è§£ä¸ºæ˜¯æ¨¡å—å’Œèµ„æºçš„è½¬æ¢å™¨ï¼Œå®ƒæœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—æºæ–‡ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿”å›è½¬æ¢çš„ç»“æœã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ require æ¥åŠ è½½ä»»ä½•ç±»å‹çš„æ¨¡å—æˆ–æ–‡ä»¶ï¼Œæ¯”å¦‚ CoffeeScriptã€ JSXã€ LESS æˆ–å›¾ç‰‡ã€‚</p>

<p><strong>loader æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</strong><br/>
Loader å¯ä»¥é€šè¿‡ç®¡é“æ–¹å¼é“¾å¼è°ƒç”¨ï¼Œæ¯ä¸ª loader å¯ä»¥æŠŠèµ„æºè½¬æ¢æˆä»»æ„æ ¼å¼å¹¶ä¼ é€’ç»™ä¸‹ä¸€ä¸ª loader ï¼Œä½†æ˜¯æœ€åä¸€ä¸ª loader å¿…é¡»è¿”å› JavaScriptã€‚<br/>
Loader å¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥æ‰§è¡Œã€‚<br/>
Loader è¿è¡Œåœ¨ node.js ç¯å¢ƒä¸­ï¼Œæ‰€ä»¥å¯ä»¥åšä»»ä½•å¯èƒ½çš„äº‹æƒ…ã€‚<br/>
Loader å¯ä»¥æ¥å—å‚æ•°ï¼Œä»¥æ­¤æ¥ä¼ é€’é…ç½®é¡¹ç»™ loaderã€‚<br/>
Loader å¯ä»¥é€šè¿‡æ–‡ä»¶æ‰©å±•åï¼ˆæˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼‰ç»‘å®šç»™ä¸åŒç±»å‹çš„æ–‡ä»¶ã€‚<br/>
Loader å¯ä»¥é€šè¿‡ npm å‘å¸ƒå’Œå®‰è£…ã€‚<br/>
é™¤äº†é€šè¿‡ package.json çš„ main æŒ‡å®šï¼Œé€šå¸¸çš„æ¨¡å—ä¹Ÿå¯ä»¥å¯¼å‡ºä¸€ä¸ª loader æ¥ä½¿ç”¨ã€‚<br/>
Loader å¯ä»¥è®¿é—®é…ç½®ã€‚<br/>
æ’ä»¶å¯ä»¥è®© loader æ‹¥æœ‰æ›´å¤šç‰¹æ€§ã€‚<br/>
Loader å¯ä»¥åˆ†å‘å‡ºé™„åŠ çš„ä»»æ„æ–‡ä»¶ã€‚<br/>
Loader æœ¬èº«ä¹Ÿæ˜¯è¿è¡Œåœ¨ node.js ç¯å¢ƒä¸­çš„ JavaScript æ¨¡å—ï¼Œå®ƒé€šå¸¸ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡ npm æ¥ç®¡ç† loaderï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ä¸­è‡ªå·±å†™ loader æ¨¡å—ã€‚<br/>
Loader å¯ä»¥åœ¨ require() å¼•ç”¨æ¨¡å—çš„æ—¶å€™æ·»åŠ ï¼Œä¹Ÿå¯ä»¥åœ¨ webpack å…¨å±€é…ç½®ä¸­è¿›è¡Œç»‘å®šï¼Œè¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼ä½¿ç”¨ã€‚</p>

<h3 id="toc_1">é…ç½®æ–‡ä»¶</h3>

<p>Webpack åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œé™¤äº†åœ¨å‘½ä»¤è¡Œä¼ å…¥å‚æ•°ï¼Œè¿˜å¯ä»¥é€šè¿‡æŒ‡å®šçš„é…ç½®æ–‡ä»¶æ¥æ‰§è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæœç´¢å½“å‰ç›®å½•çš„ webpack.config.js æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ª node.js æ¨¡å—ï¼Œè¿”å›ä¸€ä¸ª json æ ¼å¼çš„é…ç½®ä¿¡æ¯å¯¹è±¡ï¼Œæˆ–è€…é€šè¿‡ &ndash;config é€‰é¡¹æ¥æŒ‡å®šé…ç½®æ–‡ä»¶ã€‚</p>

<pre><code class="language-{">  &quot;name&quot;: &quot;webpack-example&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;A simple webpack example.&quot;,
  &quot;main&quot;: &quot;bundle.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;keywords&quot;: [
    &quot;webpack&quot;
  ],
  &quot;author&quot;: &quot;zhaoda&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;devDependencies&quot;: {
    &quot;css-loader&quot;: &quot;^0.21.0&quot;,
    &quot;style-loader&quot;: &quot;^0.13.0&quot;,
    &quot;webpack&quot;: &quot;^1.12.2&quot;
  }
}
</code></pre>

<h3 id="toc_2">commonJSè§„èŒƒ</h3>

<p>CommonJSè§„èŒƒåŒ…æ‹¬äº†æ¨¡å—ï¼ˆmodulesï¼‰ã€åŒ…ï¼ˆpackagesï¼‰ã€ç³»ç»Ÿï¼ˆsystemï¼‰ã€äºŒè¿›åˆ¶ï¼ˆbinaryï¼‰ã€æ§åˆ¶å°ï¼ˆconsoleï¼‰ã€ç¼–ç ï¼ˆencodingsï¼‰ã€æ–‡ä»¶ç³»ç»Ÿï¼ˆfilesystemsï¼‰ã€å¥—æ¥å­—ï¼ˆsocketsï¼‰ã€å•å…ƒæµ‹è¯•ï¼ˆunit testingï¼‰ç­‰éƒ¨åˆ†ã€‚ç›®å‰å¤§éƒ¨åˆ†æ ‡å‡†éƒ½åœ¨æ‹Ÿå®šå’Œè®¨è®ºä¹‹ä¸­ï¼Œå·²ç»å‘å¸ƒçš„æ ‡å‡†æœ‰Modules/1.0ã€Modules/1.1ã€Modules/1.1.1ã€Packages/1.0ã€System/1.0ã€‚</p>

<h3 id="toc_3">AMDè§„èŒƒ</h3>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å¾®ä¿¡å°ç¨‹åºä¸­ä½¿ç”¨å­—ä½“å›¾æ ‡]]></title>
    <link href="/atom.xml/14882669616759.html"/>
    <updated>2017-02-28T15:29:21+08:00</updated>
    <id>/atom.xml/14882669616759.html</id>
    <content type="html"><![CDATA[
<p>æœ€è¿‘åœ¨åšå°ç¨‹åºæ–¹é¢çš„å·¥ä½œ,å°ç¨‹åºiconç»„ä»¶å›¾æ ‡å¾ˆå°‘,åˆä¸æƒ³ä½¿ç”¨cssèƒŒæ™¯å›¾æˆ–è€…ç›´æ¥å¼•å…¥imgage,ç›´æ¥@font-face .ttf .woffå­—ä½“ï¼Œä¼šæœ‰è·¨åŸŸé—®é¢˜ã€‚å†™åˆ°é¡µé¢é‡Œå§ã€‚</p>

<p>åªèƒ½è½¬base64äº†å§ï¼Œè€Œä¸”çº¯æ‰‹å·¥è½¬ï¼Œicomoon Encode embed cssä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™èµ·å·²ç»å¼€å§‹æ”¶è´¹äº†ğŸ˜­<br/>
åœ¨çº¿è½¬æ¢ç½‘å€ï¼š<a href="https://www.giftofspeed.com/base64-encoder/">https://www.giftofspeed.com/base64-encoder/</a></p>

<pre><code class="language-@font-face">font-family:&#39;font-name&#39;;
src:url(data:application/x-font-ttf;charset=utf-8;base64,*** format(&#39;truetype&#39;);
</code></pre>

<p>åœ¨å°ç¨‹åºå†…å°±ä¸å­˜åœ¨å­—ä½“æ ¼å¼å…¼å®¹æ€§é—®é¢˜ï¼Œç”¨ttfå°±è¡Œäº†ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[es6å­¦ä¹ ç¬”è®°]]></title>
    <link href="/atom.xml/14890321432064.html"/>
    <updated>2017-03-09T12:02:23+08:00</updated>
    <id>/atom.xml/14890321432064.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">classç±»</h2>

<h2 id="toc_1">letå˜é‡</h2>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Httpæƒå¨æŒ‡å—]]></title>
    <link href="/atom.xml/14891384503601.html"/>
    <updated>2017-03-10T17:34:10+08:00</updated>
    <id>/atom.xml/14891384503601.html</id>
    <content type="html"><![CDATA[

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è®¤è¯†å’Œä½¿ç”¨Promiseï¼Œé‡æ„ä½ çš„Jsä»£ç ]]></title>
    <link href="/atom.xml/14939478964540.html"/>
    <updated>2017-05-05T09:31:36+08:00</updated>
    <id>/atom.xml/14939478964540.html</id>
    <content type="html"><![CDATA[
<p>ä¸€ç›´ä»¥æ¥ï¼ŒJavaScriptå¤„ç†å¼‚æ­¥éƒ½æ˜¯ä»¥callbackçš„æ–¹å¼ï¼Œåœ¨å‰ç«¯å¼€å‘é¢†åŸŸcallbackæœºåˆ¶å‡ ä¹æ·±å…¥äººå¿ƒã€‚åœ¨è®¾è®¡APIçš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯æµè§ˆå™¨å‚å•†è¿˜æ˜¯SDKå¼€å‘å•†äº¦æˆ–æ˜¯å„ç§ç±»åº“çš„ä½œè€…ï¼ŒåŸºæœ¬ä¸Šéƒ½å·²ç»éµå¾ªç€callbackçš„å¥—è·¯ã€‚è¿‘å‡ å¹´éšç€JavaScriptå¼€å‘æ¨¡å¼çš„é€æ¸æˆç†Ÿï¼ŒCommonJSè§„èŒƒé¡ºåŠ¿è€Œç”Ÿï¼Œå…¶ä¸­å°±åŒ…æ‹¬æå‡ºäº†Promiseè§„èŒƒï¼ŒPromiseå®Œå…¨æ”¹å˜äº†jså¼‚æ­¥ç¼–ç¨‹çš„å†™æ³•ï¼Œè®©å¼‚æ­¥ç¼–ç¨‹å˜å¾—ååˆ†çš„æ˜“äºç†è§£ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹Promiseã€‚</p>

<h3 id="toc_0">ä¸€ ã€åˆè¯†Promise</h3>

<p>Promiseå¯èƒ½å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œå› ä¸ºPromiseè§„èŒƒå·²ç»å‡ºæ¥å¥½ä¸€æ®µæ—¶é—´äº†ï¼ŒåŒæ—¶Promiseä¹Ÿå·²ç»çº³å…¥äº†ES6ï¼Œè€Œä¸”é«˜ç‰ˆæœ¬çš„chromeã€firefoxæµè§ˆå™¨éƒ½å·²ç»åŸç”Ÿå®ç°äº†Promiseï¼Œåªä¸è¿‡å’Œç°å¦‚ä»Šæµè¡Œçš„ç±»Promiseç±»åº“ç›¸æ¯”å°‘äº›APIã€‚</p>

<p><strong>1ã€ä»€ä¹ˆæ˜¯promiseï¼Ÿ</strong><br/>
ã€€ã€€æ‰€è°“Promiseï¼Œå­—é¢ä¸Šå¯ä»¥ç†è§£ä¸ºâ€œæ‰¿è¯ºâ€ï¼Œå°±æ˜¯è¯´Aè°ƒç”¨Bï¼ŒBè¿”å›ä¸€ä¸ªâ€œæ‰¿è¯ºâ€ç»™Aï¼Œç„¶åAå°±å¯ä»¥åœ¨å†™è®¡åˆ’çš„æ—¶å€™è¿™ä¹ˆå†™ï¼šå½“Bè¿”å›ç»“æœç»™æˆ‘çš„æ—¶å€™ï¼ŒAæ‰§è¡Œæ–¹æ¡ˆS1ï¼Œåä¹‹å¦‚æœBå› ä¸ºä»€ä¹ˆåŸå› æ²¡æœ‰ç»™åˆ°Aæƒ³è¦çš„ç»“æœï¼Œé‚£ä¹ˆAæ‰§è¡Œåº”æ€¥æ–¹æ¡ˆS2ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæ‰€æœ‰çš„æ½œåœ¨é£é™©éƒ½åœ¨Açš„å¯æ§èŒƒå›´ä¹‹å†…äº†ã€‚</p>

<p>Promiseè§„èŒƒå¦‚ä¸‹ï¼š<br/>
* ä¸€ä¸ªpromiseå¯èƒ½æœ‰ä¸‰ç§çŠ¶æ€ï¼šç­‰å¾…ï¼ˆpendingï¼‰ã€å·²å®Œæˆï¼ˆfulfilledï¼‰ã€å·²æ‹’ç»ï¼ˆrejectedï¼‰<br/>
* ä¸€ä¸ªpromiseçš„çŠ¶æ€åªå¯èƒ½ä»â€œç­‰å¾…â€è½¬åˆ°â€œå®Œæˆâ€æ€æˆ–è€…â€œæ‹’ç»â€æ€ï¼Œä¸èƒ½é€†å‘è½¬æ¢ï¼ŒåŒæ—¶â€œå®Œæˆâ€æ€å’Œâ€œæ‹’ç»â€æ€ä¸èƒ½ç›¸äº’è½¬æ¢<br/>
* promiseå¿…é¡»å®ç°thenæ–¹æ³•ï¼ˆå¯ä»¥è¯´ï¼Œthenå°±æ˜¯promiseçš„æ ¸å¿ƒï¼‰ï¼Œè€Œä¸”thenå¿…é¡»è¿”å›ä¸€ä¸ªpromiseï¼ŒåŒä¸€ä¸ªpromiseçš„thenå¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œå¹¶ä¸”å›è°ƒçš„æ‰§è¡Œé¡ºåºè·Ÿå®ƒä»¬è¢«å®šä¹‰æ—¶çš„é¡ºåºä¸€è‡´<br/>
* thenæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æˆåŠŸæ—¶çš„å›è°ƒï¼Œåœ¨promiseç”±â€œç­‰å¾…â€æ€è½¬æ¢åˆ°â€œå®Œæˆâ€æ€æ—¶è°ƒç”¨ï¼Œå¦ä¸€ä¸ªæ˜¯å¤±è´¥æ—¶çš„å›è°ƒï¼Œåœ¨promiseç”±â€œç­‰å¾…â€æ€è½¬æ¢åˆ°â€œæ‹’ç»â€æ€æ—¶è°ƒç”¨ã€‚åŒæ—¶ï¼Œthenå¯ä»¥æ¥å—å¦ä¸€ä¸ªpromiseä¼ å…¥ï¼Œä¹Ÿæ¥å—ä¸€ä¸ªâ€œç±»thenâ€çš„å¯¹è±¡æˆ–æ–¹æ³•ï¼Œå³thenableå¯¹è±¡ã€‚</p>

<p><strong>2.promiseåŸç†åˆ†æ</strong><br/>
      å¯ä»¥çœ‹åˆ°promiseçš„è§„èŒƒå¹¶ä¸æ˜¯å¾ˆå¤šï¼Œä¸‹é¢æˆ‘ä»¬ä¸€è¾¹åˆ†æpromiseä¸€è¾¹è‡ªå·±å†™ä¸€ä¸ªpromiseçš„å®ç°ã€‚Promiseå®ç°çš„å¤§è‡´æ€è·¯å¦‚ä¸‹ï¼š</p>

<p>ã€€ã€€æ„é€ å‡½æ•°Promiseæ¥å—ä¸€ä¸ªå‡½æ•°resolverï¼Œå¯ä»¥ç†è§£ä¸ºä¼ å…¥ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œresolveræ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æˆåŠŸæ—¶çš„å›è°ƒï¼Œä¸€ä¸ªæ˜¯å¤±è´¥æ—¶çš„å›è°ƒï¼Œè¿™ä¸¤å‚æ•°å’Œé€šè¿‡thenä¼ å…¥çš„å‚æ•°æ˜¯å¯¹ç­‰çš„ã€‚</p>

<p>å…¶æ¬¡æ˜¯thençš„å®ç°ï¼Œç”±äºPromiseè¦æ±‚thenå¿…é¡»è¿”å›ä¸€ä¸ªpromiseï¼Œæ‰€ä»¥åœ¨thenè°ƒç”¨çš„æ—¶å€™ä¼šæ–°ç”Ÿæˆä¸€ä¸ªpromiseï¼ŒæŒ‚åœ¨å½“å‰promiseçš„_nextä¸Šï¼ŒåŒä¸€ä¸ªpromiseå¤šæ¬¡è°ƒç”¨éƒ½åªä¼šè¿”å›ä¹‹å‰ç”Ÿæˆçš„_nextã€‚</p>

<p>ç”±äºthenæ–¹æ³•æ¥å—çš„ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œè€Œä¸”ç±»å‹ä¹Ÿæ²¡é™åˆ¶ï¼Œå¯ä»¥æ˜¯å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œè¿˜å¯ä»¥æ˜¯å¦ä¸€ä¸ªpromiseã€‚ä¸‹é¢æ˜¯thençš„å…·ä½“å®ç°ï¼š</p>

<pre><code>Promise.prototype.then = function(resolve, reject) {  
    var next = this._next || (this._next = Promise());  
    var status = this.status;  
    var x;  
  
    if(&#39;pending&#39; === status) {  
        isFn(resolve) &amp;&amp; this._resolves.push(resolve);  
        isFn(reject) &amp;&amp; this._rejects.push(reject);  
        return next;  
    }  
  
    if(&#39;resolved&#39; === status) {  
        if(!isFn(resolve)) {  
            next.resolve(resolve);  
        } else {  
            try {  
                x = resolve(this.value);  
                resolveX(next, x);  
            } catch(e) {  
                this.reject(e);  
            }  
        }  
        return next;  
    }  
  
    if(&#39;rejected&#39; === status) {  
        if(!isFn(reject)) {  
            next.reject(reject);  
        } else {  
            try {  
                x = reject(this.reason);  
                resolveX(next, x);  
            } catch(e) {  
                this.reject(e);  
            }  
        }  
        return next;  
    }  
};
</code></pre>

<p>è¿™é‡Œï¼Œthenåšäº†ç®€åŒ–ï¼Œå…¶ä»–promiseç±»åº“çš„å®ç°æ¯”è¿™ä¸ªè¦å¤æ‚å¾—å¤šï¼ŒåŒæ—¶åŠŸèƒ½ä¹Ÿæ›´å¤šï¼Œæ¯”å¦‚è¿˜æœ‰ç¬¬ä¸‰ä¸ªå‚æ•°â€”â€”notifyï¼Œè¡¨ç¤ºpromiseå½“å‰çš„è¿›åº¦ï¼Œè¿™åœ¨è®¾è®¡æ–‡ä»¶ä¸Šä¼ ç­‰æ—¶å¾ˆæœ‰ç”¨ã€‚å¯¹thençš„å„ç§å‚æ•°çš„å¤„ç†æ˜¯æœ€å¤æ‚çš„éƒ¨åˆ†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å‚çœ‹å…¶ä»–ç±»Promiseåº“çš„å®ç°ã€‚</p>

<p>åœ¨thençš„åŸºç¡€ä¸Šï¼Œåº”è¯¥è¿˜éœ€è¦è‡³å°‘ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯å®Œæˆpromiseçš„çŠ¶æ€ä»pendingåˆ°resolvedæˆ–rejectedçš„è½¬æ¢ï¼ŒåŒæ—¶æ‰§è¡Œç›¸åº”çš„å›è°ƒé˜Ÿåˆ—ï¼Œå³resolve()å’Œreject()æ–¹æ³•ã€‚</p>

<p>åˆ°æ­¤ï¼Œä¸€ä¸ªç®€å•çš„promiseå°±è®¾è®¡å®Œæˆäº†ï¼Œä¸‹é¢ç®€å•å®ç°ä¸‹ä¸¤ä¸ªpromiseåŒ–çš„å‡½æ•°ï¼š</p>

<pre><code>function sleep(ms) {  
    return function(v) {  
        var p = Promise();  
  
        setTimeout(function() {  
            p.resolve(v);  
        });  
  
        return p;  
    };  
};  
  
function getImg(url) {  
    var p = Promise();  
    var img = new Image();  
  
    img.onload = function() {  
        p.resolve(this);  
    };  
  
    img.onerror = function(err) {  
        p.reject(err);  
    };  
  
    img.url = url;  
  
    return p;  
};
</code></pre>

<p>ç”±äºPromiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ä½œä¸ºå‚æ•°ï¼Œæ‰€ä»¥getImgè¿˜å¯ä»¥è¿™æ ·è°ƒç”¨ï¼š</p>

<pre><code>function getImg(url) {  
    return Promise(function(resolve, reject) {  
        var img = new Image();  
  
        img.onload = function() {  
            resolve(this);  
        };  
  
        img.onerror = function(err) {  
            reject(err);  
        };  
  
        img.url = url;  
    });  
};
</code></pre>

<p>æ¥ä¸‹æ¥ï¼ˆè§è¯å¥‡è¿¹çš„æ—¶åˆ»ï¼‰ï¼Œå‡è®¾æœ‰ä¸€ä¸ªBTçš„éœ€æ±‚è¦è¿™ä¹ˆå®ç°ï¼šå¼‚æ­¥è·å–ä¸€ä¸ªjsoné…ç½®ï¼Œè§£æjsonæ•°æ®æ‹¿åˆ°é‡Œè¾¹çš„å›¾ç‰‡ï¼Œç„¶åæŒ‰é¡ºåºé˜Ÿåˆ—åŠ è½½å›¾ç‰‡ï¼Œæ¯å¼ å›¾ç‰‡åŠ è½½æ—¶ç»™ä¸ªloadingæ•ˆæœï¼Œ</p>

<pre><code class="language-function">    $(&#39;#list&#39;).find(&#39;&gt; li:last-child&#39;).html(&#39;&#39;).append(img);  
};  
  
function prepend() {  
    $(&#39;&lt;li&gt;&#39;)  
        .html(&#39;loading...&#39;)  
        .appendTo($(&#39;#list&#39;));  
};  
  
function run() {  
    $(&#39;#done&#39;).hide();  
    getData(&#39;map.json&#39;)  
        .then(function(data) {  
            $(&#39;h4&#39;).html(data.name);  
  
            return data.list.reduce(function(promise, item) {  
                return promise  
                    .then(prepend)  
                    .then(sleep(1000))  
                    .then(function() {  
                        return getImg(item.url);  
                    })  
                    .then(addImg);  
            }, Promise.resolve());  
        })  
        .then(sleep(300))  
        .then(function() {  
            $(&#39;#done&#39;).show();  
        });  
};  
  
$(&#39;#run&#39;).on(&#39;click&#39;, run);
</code></pre>

<p>è¿™é‡Œçš„sleepåªæ˜¯ä¸ºäº†çœ‹æ•ˆæœåŠ çš„ï¼Œå¯çŒ›å‡»æŸ¥çœ‹demoï¼</p>

<p>åœ¨è¿™é‡Œï¼ŒPromise.resolve(v)é™æ€æ–¹æ³•åªæ˜¯ç®€å•è¿”å›ä¸€ä¸ªä»¥vä¸ºè‚¯å®šç»“æœçš„promiseï¼Œvå¯ä¸ä¼ å…¥ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…æ˜¯ä¸€ä¸ªåŒ…å«thenæ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°ï¼ˆå³thenableï¼‰ã€‚</p>

<p>ç±»ä¼¼çš„é™æ€æ–¹æ³•è¿˜æœ‰Promise.cast(promise)ï¼Œç”Ÿæˆä¸€ä¸ªä»¥promiseä¸ºè‚¯å®šç»“æœçš„promiseï¼›Promise.reject(reason)ï¼Œç”Ÿæˆä¸€ä¸ªä»¥reasonä¸ºå¦å®šç»“æœçš„promiseã€‚</p>

<p>æˆ‘ä»¬å®é™…çš„ä½¿ç”¨åœºæ™¯å¯èƒ½å¾ˆå¤æ‚ï¼Œå¾€å¾€éœ€è¦å¤šä¸ªå¼‚æ­¥çš„ä»»åŠ¡ç©¿æ’æ‰§è¡Œï¼Œå¹¶è¡Œæˆ–è€…ä¸²è¡ŒåŒåœ¨ã€‚è¿™æ—¶å€™ï¼Œå¯ä»¥å¯¹Promiseè¿›è¡Œå„ç§æ‰©å±•ï¼Œæ¯”å¦‚å®ç°Promise.all()ï¼Œæ¥å—promisesé˜Ÿåˆ—å¹¶ç­‰å¾…ä»–ä»¬å®Œæˆå†ç»§ç»­ï¼Œå†æ¯”å¦‚Promise.any()ï¼Œpromisesé˜Ÿåˆ—ä¸­æœ‰ä»»ä½•ä¸€ä¸ªå¤„äºå®Œæˆæ€æ—¶å³è§¦å‘ä¸‹ä¸€æ­¥æ“ä½œã€‚</p>

<p><strong>3.æ ‡å‡†çš„Promise</strong></p>

<p>å¯å‚è€ƒhtml5rocksçš„è¿™ç¯‡æ–‡ç« JavaScript Promisesï¼Œç›®å‰é«˜çº§æµè§ˆå™¨å¦‚Chromeã€Firefoxéƒ½å·²ç»å†…ç½®äº†Promiseå¯¹è±¡ï¼Œæä¾›æ›´å¤šçš„æ“ä½œæ¥å£ï¼Œæ¯”å¦‚Promise.all()ï¼Œæ”¯æŒä¼ å…¥ä¸€ä¸ªpromisesæ•°ç»„ï¼Œå½“æ‰€æœ‰promiseséƒ½å®Œæˆæ—¶æ‰§è¡Œthenï¼Œè¿˜æœ‰å°±æ˜¯æ›´åŠ å‹å¥½å¼ºå¤§çš„å¼‚å¸¸æ•è·ï¼Œåº”å¯¹æ—¥å¸¸çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œåº”è¯¥è¶³å¤Ÿäº†ã€‚</p>

<p>ã€€ã€€ç°ä»Šæµè¡Œçš„å„å¤§jsåº“ï¼Œå‡ ä¹éƒ½ä¸åŒç¨‹åº¦çš„å®ç°äº†Promiseï¼Œå¦‚dojoï¼ŒjQueryã€Zeptoã€when.jsã€Qç­‰ï¼Œåªæ˜¯æš´éœ²å‡ºæ¥çš„å¤§éƒ½æ˜¯Deferredå¯¹è±¡,å½“ç„¶è¿˜æœ‰angularJsä¸­çš„\(q.è¿™é‡Œä»¥jQueryä¸ºä¾‹ï¼Œè¯´ä¸€ä¸‹ï¼š<br/>
ã€€ã€€<br/>
&ldquo;`// animate  <br/>
\)(&lsquo;.box&rsquo;)<br/><br/>
    .animate({&lsquo;opacity&rsquo;: 0}, 1000)<br/><br/>
    .promise()<br/><br/>
    .then(function() {<br/><br/>
        console.log(&lsquo;done&rsquo;);<br/><br/>
    });  </p>

<p>// ajax<br/><br/>
\(.ajax(options).then(success, fail);  <br/>
\).ajax(options).done(success).fail(fail);  </p>

<p>// ajax queue<br/><br/>
\(.when(\).ajax(options1), $.ajax(options2))<br/><br/>
    .then(function() {<br/><br/>
        console.log(&lsquo;all done.&rsquo;);<br/><br/>
    }, function() {<br/><br/>
        console.error(&lsquo;There something wrong.&rsquo;);<br/><br/>
    });<br/>
&rdquo;`</p>

<h3 id="toc_1">äºŒ ã€ç”¨Promiseç»„ç»‡ä½ çš„JavaScriptä»£ç </h3>

<p>ä¸Šé¢æˆ‘ä»¬äº†è§£äº†Promiseï¼Œç›¸ä¿¡å¤§å®¶å¯¹Promiseæœ‰äº†ä¸€å®šçš„è®¤è¯†ã€‚ä¸‹é¢æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹æ¥å†™ä»£ç ï¼Œé€šè¿‡å‡ ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¥åŠ æ·±ç†è§£ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨è‡ªå¸¦çš„Promiseï¼Œé¦–å…ˆæˆ‘ä»¬è¦å…ˆæ£€æµ‹ä¸€äº›æµè§ˆå™¨æ˜¯å¦æ”¯æŒPromiseï¼Œå…¶å®å¾ˆç®€å•ï¼Œå¦‚æœæ˜¯è°·æ­Œæµè§ˆå™¨ï¼ŒæŒ‰ä¸‹F12,æ‰“å¼€æ§åˆ¶å°ï¼Œå¦‚å›¾ï¼š<br/>
<img src="media/14939478964540/14939482078077.jpg" alt=""/><br/>
è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°Promiseçš„typeæ˜¯functionï¼Œä¹Ÿå°±æ˜¯è¯´è°·æ­Œæµè§ˆå™¨æ˜¯æ”¯æŒpromiseçš„ã€‚ä»¥æ­¤ä¸ºåŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€æ®µJavaScriptä»£ç æ¥æ£€æµ‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="language-if(typeof(Promise)">    alert(&quot;æ”¯æŒPromise&quot;);
}
else{
    alert(&quot;ä¸æ”¯æŒPromise&quot;);
}
</code></pre>

<p>ç»è¿‡æ£€æµ‹ï¼Œå‘ç°IE11ç«Ÿç„¶ä¸æ”¯æŒpromise.å»ºè®®å¤§å®¶ç”¨è°·æ­Œæµè§ˆå™¨æ¥è¿›è¡Œæµ‹è¯•å§ã€‚</p>

<p>æˆ‘ä»¬é¦–å…ˆæ¥å†™ä¸€ä¸ªç­‰å¾…çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>

<pre><code class="language-function">    return new Promise(function(resolve, reject) {
        setTimeout(resolve,duration);
    })
}
</code></pre>

<p>æµ‹è¯•è¿™ä¸ªæ–¹æ³•çš„ä»£ç å¦‚ä¸‹ï¼šwait(5000).then(function(){alert(&lsquo;hello&rsquo;)})ï¼Œè¿™æ®µä»£ç å¾ˆç®€å•ï¼Œå°±æ˜¯ç­‰å¾…5ç§’ä»¥åæ‰§è¡Œä¸€ä¸ªå›è°ƒï¼Œå¼¹å‡ºä¸€ä¸ªæ¶ˆæ¯ã€‚å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥è¿™æ ·å†™ï¼š</p>

<pre><code class="language-wait(5000).then(function(){alert(&#39;hello&#39;)}).then(function(){console.log(&#39;world&#39;)})"></code></pre>

<p>æ€ä¹ˆæ ·ï¼Ÿå¾ˆç®€å•å§~~</p>

<p>ä¸‹é¢æ¥çœ‹ä¸€äº›æˆ‘ä»ç½‘ä¸Šæ”¶é›†çš„ä¸€äº›å¸¸ç”¨çš„JavaScriptçš„promiseçš„å†™æ³•ï¼š</p>

<pre><code class="language-function">    return http(uri, &#39;GET&#39;, null);
}

function post(uri,data){
    if(typeof data === &#39;object&#39; &amp;&amp; !(data instanceof String || (FormData &amp;&amp; data instanceof FormData))) {
        var params = [];
        for(var p in data) {
            if(data[p] instanceof Array) {
                for(var i = 0; i &lt; data[p].length; i++) {
                    params.push(encodeURIComponent(p) + &#39;[]=&#39; + encodeURIComponent(data[p][i]));
                }
            } else {
                params.push(encodeURIComponent(p) + &#39;=&#39; + encodeURIComponent(data[p]));
            }
        }
        data = params.join(&#39;&amp;&#39;);
    }


    return http(uri, &#39;POST&#39;, data || null, {
        &quot;Content-type&quot;:&quot;application/x-www-form-urlencoded&quot;
    });
}

function http(uri,method,data,headers){
    return new Promise(function(resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.open(method,uri,true);
        if(headers) {
            for(var p in headers) {
                xhr.setRequestHeader(p, headers[p]);
            }
        }
        xhr.addEventListener(&#39;readystatechange&#39;,function(e){
            if(xhr.readyState === 4) {
                if(String(xhr.status).match(/^2\d\d$/)) {
                    resolve(xhr.responseText);
                } else {
                    reject(xhr);
                }
            }
        });
        xhr.send(data);
    })
}

function wait(duration){
    return new Promise(function(resolve, reject) {
        setTimeout(resolve,duration);
    })
}

function waitFor(element,event,useCapture){
    return new Promise(function(resolve, reject) {
        element.addEventListener(event,function listener(event){
            resolve(event)
            this.removeEventListener(event, listener, useCapture);
        },useCapture)
    })
}

function loadImage(src) {
    return new Promise(function(resolve, reject) {
        var image = new Image;
        image.addEventListener(&#39;load&#39;,function listener() {
            resolve(image);
            this.removeEventListener(&#39;load&#39;, listener, useCapture);
        });
        image.src = src;
        image.addEventListener(&#39;error&#39;,reject);
    })
}

function runScript(src) {
    return new Promise(function(resolve, reject) {
        var script = document.createElement(&#39;script&#39;);
        script.src = src;
        script.addEventListener(&#39;load&#39;,resolve);
        script.addEventListener(&#39;error&#39;,reject);
        (document.getElementsByTagName(&#39;head&#39;)[0] || document.body || document.documentElement).appendChild(script);
    })
}

function domReady() {
    return new Promise(function(resolve, reject) {
        if(document.readyState === &#39;complete&#39;) {
            resolve();
        } else {
            document.addEventListener(&#39;DOMContentLoaded&#39;,resolve);
        }
    })
}
</code></pre>

<p>çœ‹åˆ°äº†å§ï¼ŒPromiseé£æ ¼APIè·Ÿå›è°ƒé£æ ¼çš„APIä¸åŒï¼Œå®ƒçš„å‚æ•°è·ŸåŒæ­¥çš„APIæ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯å®ƒçš„è¿”å›å€¼æ˜¯ä¸ªPromiseå¯¹è±¡ï¼Œè¦æƒ³å¾—åˆ°çœŸæ­£çš„ç»“æœï¼Œéœ€è¦åœ¨thençš„å›è°ƒé‡Œé¢æ‹¿åˆ°ã€‚</p>

<h3 id="toc_2">ä¸‰ã€ç”¨Promiseç»„ç»‡JavaScriptå¼‚æ­¥ä»£ç </h3>

<p>åœ¨æ¯”è¾ƒå¤æ‚çš„é¡µé¢ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨åˆ°å¤§é‡çš„å¼‚æ­¥æ“ä½œã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä½¿ç”¨Promiseä¼šå¸¦æ¥æ€æ ·çš„ä¾¿åˆ©å§ã€‚<br/>
<strong>1ã€å¤šä¸ªå¼‚æ­¥è°ƒç”¨ï¼ŒåŒæ­¥/å¹¶è¡Œ</strong><br/>
ã€€ä¾‹å¦‚æˆ‘ä»¬é¡µé¢è°ƒç”¨äº†å¥½å‡ ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œæˆ‘ä»¬è¦ç­‰å¾…æ‰€æœ‰çš„å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œåšä¸€äº›æ“ä½œï¼Œå¦‚å¼¹å‡ºä¸€ä¸ªæ¶ˆæ¯æ¡†æç¤ºç”¨æˆ·æ“ä½œæˆåŠŸã€‚ä¸‹é¢æˆ‘ä»¬æ‹¿ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ï¼š</p>

<p>Promise.allè·Ÿthençš„é…åˆï¼Œå¯ä»¥è§†ä¸ºè°ƒç”¨éƒ¨åˆ†å‚æ•°ä¸ºPromiseæä¾›çš„å‡½æ•°ã€‚è­¬å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ¥å—ä¸‰ä¸ªå‚æ•°çš„å‡½æ•°ï¼š</p>

<pre><code class="language-function">    console.log(a + b + c);
}
</code></pre>

<p>ç°åœ¨æˆ‘ä»¬è°ƒç”¨printå‡½æ•°ï¼Œå…¶ä¸­aå’Œbæ˜¯éœ€è¦å¼‚æ­¥è·å–çš„ï¼š</p>

<pre><code class="language-var">
print(geta(), getb(), 10); //è¿™æ˜¯åŒæ­¥çš„å†™æ³•

Promise.all([geta(), getb(), 10]).then(print); //è¿™æ˜¯ primise çš„å¼‚æ­¥å†™æ³•
</code></pre>

<p>å¦‚æœç”¨callbackçš„è¯ï¼Œæˆ‘ä»¬å°±åªèƒ½ä¸€ä¸ªä¸€ä¸ªè°ƒç”¨äº†ï¼Œè°ƒç”¨å®Œäº†geta,ç„¶ååœ¨å…¶å›è°ƒå‡½æ•°é‡Œé¢è°ƒç”¨getbï¼Œæœ€ååœ¨getbçš„å›è°ƒå‡½æ•°ä¸­è°ƒç”¨printæ–¹æ³•ã€‚ä¸²è¡Œå’Œå¹¶è¡Œå“ªä¸ªæ›´å¿«ï¼Œå¤§å®¶å¾ˆæ¸…æ¥šå§~~</p>

<p>** 2.ç«äº‰**<br/>
 ã€€ã€€å¦‚æœè¯´Primise.allæ˜¯promiseå¯¹è±¡ä¹‹é—´çš„â€œä¸â€å…³ç³»ï¼Œé‚£ä¹ˆPromise.raceå°±æ˜¯promiseå¯¹è±¡ä¹‹é—´çš„â€œæˆ–â€å…³ç³»ã€‚æ¯”å¦‚ï¼Œæˆ‘è¦å®ç°â€œç‚¹å‡»æŒ‰é’®æˆ–è€…5ç§’é’Ÿä¹‹åæ‰§è¡Œâ€ï¼š</p>

<pre><code class="language-ã€€ã€€var">
Promise.race(wait(5000), waitFor(btn, click)).then(function(){
    console.log(&#39;run!&#39;)
})
</code></pre>

<p><strong>3.å¼‚å¸¸å¤„ç†</strong><br/>
 ã€€ã€€å¼‚å¸¸å¤„ç†ä¸€ç›´æ˜¯å›è°ƒçš„éš¾é¢˜ï¼Œè€Œpromiseæä¾›äº†éå¸¸æ–¹ä¾¿çš„catchæ–¹æ³•ï¼šåœ¨ä¸€æ¬¡promiseè°ƒç”¨ä¸­ï¼Œä»»ä½•çš„ç¯èŠ‚å‘ç”Ÿrejectï¼Œéƒ½å¯ä»¥åœ¨æœ€ç»ˆçš„catchä¸­æ•è·åˆ°ï¼š</p>

<pre><code class="language-ã€€ã€€Promise.resolve().then(function(){">    return loadImage(img1);
}).then(function(){
    return loadImage(img2);
}).then(function(){
    return loadImage(img3);
}).catch(function(err){
    //é”™è¯¯å¤„ç†
})
</code></pre>

<p><strong>4.å¤æ‚æµç¨‹</strong><br/>
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹æ¯”è¾ƒå¤æ‚çš„æƒ…å†µã€‚<br/>
promiseæœ‰ä¸€ç§éå¸¸é‡è¦çš„ç‰¹æ€§ï¼šthençš„å‚æ•°ï¼Œç†è®ºä¸Šåº”è¯¥æ˜¯ä¸€ä¸ªpromiseå‡½æ•°ï¼Œè€Œå¦‚æœä½ ä¼ é€’çš„æ˜¯æ™®é€šå‡½æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šæŠŠå®ƒå½“åšå·²ç»resolveäº†çš„promiseå‡½æ•°ã€‚</p>

<p>è¿™æ ·çš„ç‰¹æ€§è®©æˆ‘ä»¬éå¸¸å®¹æ˜“æŠŠpromiseé£æ ¼çš„å‡½æ•°è·Ÿå·²æœ‰ä»£ç ç»“åˆèµ·æ¥ã€‚</p>

<p>ä¸ºäº†æ–¹ä¾¿ä¼ å‚æ•°ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªcurryingå‡½æ•°ï¼Œè¿™æ˜¯å‡½æ•°å¼ç¼–ç¨‹é‡Œé¢çš„åŸºæœ¬ç‰¹æ€§ï¼Œåœ¨è¿™é‡Œè·Ÿpromiseéå¸¸æ­ï¼Œæ‰€ä»¥å°±å®ç°ä¸€ä¸‹ï¼š</p>

<pre><code class="language-function">    var f = arguments[0];
    var args = Array.prototype.slice.call(arguments,1);
    return function(){
        args.push.apply(args,arguments);
        return f.apply(this,args);
    }
}
</code></pre>

<p>curryingä¼šç»™æŸä¸ªå‡½æ•°&quot;å›ºåŒ–&quot;å‡ ä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—å‰©ä½™å‚æ•°çš„å‡½æ•°ã€‚æ¯”å¦‚ä¹‹å‰çš„å‡½æ•°ï¼Œå¯ä»¥è¿™ä¹ˆç©ï¼š</p>

<pre><code class="language-var">
print2(2, 3); //å¾—åˆ° 11 + 2 + 3 çš„ç»“æœï¼Œ16

var wait1s = currying(wait,1000);

wait1s().then(function(){
    console.log(&#39;after 1s!&#39;);
})
</code></pre>

<p>æœ‰äº†curryingï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«åœ°æ¥ç©é“¾å¼è°ƒç”¨äº†ï¼Œæ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š</p>

<pre><code class="language-Promise.race([">    domReady().then(currying(wait,5000)), 
    waitFor(btn, click)])
    .then(currying(runScript,&#39;a.js&#39;))
    .then(function(){
        console.log(&#39;loaded&#39;);
        return Promise.resolve();
    });
</code></pre>

<p>ä¸ç®¡Promiseå®ç°æ€ä¹ˆå¤æ‚ï¼Œä½†æ˜¯å®ƒçš„ç”¨æ³•å´å¾ˆç®€å•ï¼Œç»„ç»‡çš„ä»£ç å¾ˆæ¸…æ™°ï¼Œä»æ­¤ä¸ç”¨å†å—callbackçš„æŠ˜ç£¨äº†ã€‚promiseä½œä¸ºä¸€ä¸ªæ–°çš„APIï¼Œå®ƒçš„APIæœ¬èº«æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒèƒŒåä»£è¡¨çš„ç¼–ç¨‹æ€è·¯æ˜¯å¾ˆæœ‰ä»·å€¼çš„ã€‚</p>

<p>æœ€åï¼ŒPromiseæ˜¯å¦‚æ­¤çš„ä¼˜é›…ï¼ä½†Promiseä¹Ÿåªæ˜¯è§£å†³äº†å›è°ƒçš„æ·±å±‚åµŒå¥—çš„é—®é¢˜ï¼ŒçœŸæ­£ç®€åŒ–JavaScriptå¼‚æ­¥ç¼–ç¨‹çš„è¿˜æ˜¯Generatorï¼Œåœ¨Node.jsç«¯ï¼Œå»ºè®®è€ƒè™‘Generatorã€‚</p>

<h3 id="toc_3">å›› ã€å‚è€ƒèµ„æ–™</h3>

<p>JavaScript Promiseè¿·ä½ ä¹¦ï¼ˆä¸­æ–‡ç‰ˆï¼‰   <a href="http://liubin.github.io/promises-book/">http://liubin.github.io/promises-book/</a><br/>
JavaScript Promiseå¯ç¤ºå½•       <a href="http://www.csdn.net/article/2014-05-28/2819979-JavaScript-Promise">http://www.csdn.net/article/2014-05-28/2819979-JavaScript-Promise</a><br/>
ç”¨Promiseç»„ç»‡ç¨‹åº                 <a href="http://www.w3ctech.com/topic/721">http://www.w3ctech.com/topic/721</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gitè¿œç¨‹æ“ä½œ]]></title>
    <link href="/atom.xml/14882736341680.html"/>
    <updated>2017-02-28T17:20:34+08:00</updated>
    <id>/atom.xml/14882736341680.html</id>
    <content type="html"><![CDATA[
<p><strong>gitåˆ†æ”¯æ“ä½œ</strong><br/>
gitæŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼Œå¸¦æ˜Ÿå·çš„ä¸ºå½“å‰å¼€å‘çš„åˆ†æ”¯ã€‚</p>

<pre><code>$git branch -a //æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯      
master
* newblog

$git push origin :master;//åˆ é™¤è¿œç¨‹masteråˆ†æ”¯
$git branch -D newbranch;//åˆ é™¤æœ¬åœ°masteråˆ†æ”¯
$git checkout newbranch//åˆ‡æ¢åˆ†æ”¯
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[questionä¸€äº›é—®é¢˜è®°å½•]]></title>
    <link href="/atom.xml/14937985253928.html"/>
    <updated>2017-05-03T16:02:05+08:00</updated>
    <id>/atom.xml/14937985253928.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">æ€ä¹ˆç”¨jsåˆ›å»ºä¸€ä¸ªclass</h2>

<p>Javasciptè¯­æ³•ä¸æ”¯æŒ&quot;ç±»&quot;ï¼ˆclassï¼‰ï¼Œå¯¼è‡´ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ–¹æ³•æ— æ³•ç›´æ¥ä½¿ç”¨ã€‚ç¨‹åºå‘˜ä»¬åšäº†å¾ˆå¤šæ¢ç´¢ï¼Œç ”ç©¶å¦‚ä½•ç”¨Javascriptæ¨¡æ‹Ÿ&quot;ç±»&quot;ã€‚<br/>
åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œç±»ï¼ˆclassï¼‰æ˜¯å¯¹è±¡ï¼ˆobjectï¼‰çš„æ¨¡æ¿ï¼Œå®šä¹‰äº†åŒä¸€ç»„å¯¹è±¡ï¼ˆåˆç§°&quot;å®ä¾‹&quot;ï¼‰å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚<br/>
Javascriptè¯­è¨€ä¸æ”¯æŒ&quot;ç±»&quot;ï¼Œä½†æ˜¯å¯ä»¥ç”¨ä¸€äº›å˜é€šçš„æ–¹æ³•ï¼Œæ¨¡æ‹Ÿå‡º&quot;ç±»&quot;ã€‚</p>

<p><strong>æ„é€ å‡½æ•°æ³•</strong></p>

<pre><code class="language-function">ã€€this.name = &quot;zhangyan&quot;;
}
</code></pre>

<p>ç”Ÿæˆå®ä¾‹çš„æ—¶å€™ï¼Œä½¿ç”¨newå…³é”®å­—ã€‚</p>

<pre><code class="language-var">console.log(person.name); // zhangyan
</code></pre>

<p>ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜å¯ä»¥å®šä¹‰åœ¨æ„é€ å‡½æ•°çš„prototypeå¯¹è±¡ä¹‹ä¸Šã€‚</p>

<pre><code class="language-person.prototype.makeSound">    console.log(&quot;å–µå–µå–µ&quot;);
}
</code></pre>

<p><strong>Object.create()æ³•</strong></p>

<p>ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œ&quot;ç±»&quot;å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯å‡½æ•°ã€‚</p>

<pre><code class="language-var">ã€€ã€€name: &quot;zhangyan&quot;,
ã€€ã€€makeSound: function(){ alert(&quot;å–µå–µå–µ&quot;); }
};
</code></pre>

<p>ç›´æ¥ç”¨Object.create()ç”Ÿæˆå®ä¾‹ï¼Œä¸éœ€è¦ç”¨åˆ°newã€‚</p>

<pre><code class="language-var">console.log(cat1.name); // å¤§æ¯›
person1.makeSound(); // å–µå–µå–µ
</code></pre>

<blockquote>
<p>å„å¤§æµè§ˆå™¨çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆåŒ…æ‹¬IE9ï¼‰éƒ½æ”¯æŒè¿™ä¸ªæ–¹æ³•ã€‚å¦‚æœé‡åˆ°è€å¼æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç è‡ªè¡Œéƒ¨ç½²ã€‚</p>
</blockquote>

<pre><code class="language-if">    Object.create = function (o) {
        function F(){}
        F.prototype = o;
        return new F();
    };
}
</code></pre>

<p>è¿™ç§æ–¹æ³•æ¯”&quot;æ„é€ å‡½æ•°æ³•&quot;ç®€å•ï¼Œä½†æ˜¯ä¸èƒ½å®ç°ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ï¼Œå®ä¾‹å¯¹è±¡ä¹‹é—´ä¹Ÿä¸èƒ½å…±äº«æ•°æ®ï¼Œå¯¹&quot;ç±»&quot;çš„æ¨¡æ‹Ÿä¸å¤Ÿå…¨é¢ã€‚</p>

<p><strong>æç®€ä¸»ä¹‰æ³•</strong><br/>
è¿™ç§æ–¹æ³•ä¸ä½¿ç”¨thiså’Œprototypeï¼Œä»£ç éƒ¨ç½²èµ·æ¥éå¸¸ç®€å•ï¼Œè¿™å¤§æ¦‚ä¹Ÿæ˜¯å®ƒè¢«å«åš&quot;æç®€ä¸»ä¹‰æ³•&quot;çš„åŸå› ã€‚<br/>
é¦–å…ˆï¼Œå®ƒä¹Ÿæ˜¯ç”¨ä¸€ä¸ªå¯¹è±¡æ¨¡æ‹Ÿ&quot;ç±»&quot;ã€‚åœ¨è¿™ä¸ªç±»é‡Œé¢ï¼Œå®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°createNew()ï¼Œç”¨æ¥ç”Ÿæˆå®ä¾‹ã€‚</p>

<h2 id="toc_1">åŸç”Ÿjså®ç°ajaxæ–¹æ³•</h2>

<pre><code class="language-function">    //å…ˆå£°æ˜ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚å¯¹è±¡
    var xmlHttpReg = null;
    if (window.ActiveXObject) {//å¦‚æœæ˜¯IE
            xmlHttpReg = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
        } else if (window.XMLHttpRequest) {
            xmlHttpReg = new XMLHttpRequest(); //å®ä¾‹åŒ–ä¸€ä¸ªxmlHttpReg
        }
        
        //å¦‚æœå®ä¾‹åŒ–æˆåŠŸ,å°±è°ƒç”¨open()æ–¹æ³•,å°±å¼€å§‹å‡†å¤‡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚
        if (xmlHttpReg != null) {
        //  trueè¡¨ç¤ºè¯¥å‚æ•°è§„å®šè¯·æ±‚æ˜¯å¦å¼‚æ­¥å¤„ç†ï¼ŒTrue è¡¨ç¤ºè„šæœ¬ä¼šåœ¨ send() æ–¹æ³•ä¹‹åç»§ç»­æ‰§è¡Œï¼Œè€Œä¸ç­‰å¾…æ¥è‡ªæœåŠ¡å™¨çš„å“åº”ã€‚
        xmlHttpReg.open(&quot;get&quot;, &quot;About.aspx&quot;, true);
        xmlHttpReg.send(null);
        xmlHttpReg.onreadystatechange = doResult; //è®¾ç½®å›è°ƒå‡½æ•°
    }
    //å›è°ƒå‡½æ•°
    //ä¸€æ—¦readyStateçš„å€¼æ”¹å˜,å°†ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°,readyState=4è¡¨ç¤ºå®Œæˆç›¸åº”
    //è®¾å®šå‡½æ•°doResult()
    function doResult() {
        if (xmlHttpReg.readyState == 4) {//4ä»£è¡¨æ‰§è¡Œå®Œæˆ
          if (xmlHttpReg.status == 200) {//200ä»£è¡¨æ‰§è¡ŒæˆåŠŸ
            }else{
          //å¤±è´¥
            }
        }
    }
}  
</code></pre>

]]></content>
  </entry>
  
</feed>
